import streamlit as st

st.set_page_config(page_title="Κουίζ: Παράκτια Διάβρωση", page_icon="🌊", layout="centered")

st.title("🌊 Κουίζ: Παράκτια Διάβρωση")
st.markdown("Δοκίμασε τις γνώσεις σου για τη διάβρωση των ακτών!")

st.image("https://www.patrisnews.com/wp-content/uploads/2014/11/diavrosh.jpg", use_container_width=True, caption="Παραλία υπό διάβρωση")

score = 0
total_questions = 8

# ΕΡΩΤΗΣΕΙΣ
questions = [
    {
        "q": "1. Ποια γωνία πρόσκρουσης κυμάτων προκαλεί τη μεγαλύτερη διάβρωση;",
        "options": ["0°", "45°", "90°"],
        "answer": "0°",
        "explanation": "Τα κύματα που χτυπούν κάθετα (0°) μεταφέρουν περισσότερη ενέργεια στην ακτή."
    },
    {
        "q": "2. Ποιο από τα παρακάτω υλικά είναι το πιο ανθεκτικό στη διάβρωση;",
        "options": ["Άμμος", "Πηλός", "Βράχος", "Χαλίκι"],
        "answer": "Βράχος",
        "explanation": "Ο βράχος έχει τη μικρότερη ταχύτητα διάβρωσης λόγω της σκληρότητάς του."
    },
    {
        "q": "3. Ποια ανθρώπινη παρέμβαση ΜΕΙΩΝΕΙ τη διάβρωση;",
        "options": ["Καταστροφή Βλάστησης", "Κτίρια στην ακτή", "Θετική Περιβαλλοντική Διαχείριση", "Καμία"],
        "answer": "Θετική Περιβαλλοντική Διαχείριση",
        "explanation": "Πράσινες παρεμβάσεις όπως φύτευση βλάστησης προστατεύουν την ακτή."
    },
    {
        "q": "4. Ποιο μέτρο προστασίας έχει τον μικρότερο συντελεστή διάβρωσης;",
        "options": ["Καμία", "Κυματοθραύστες", "Αναχώματα", "Τεχνητή Παραλία"],
        "answer": "Αναχώματα",
        "explanation": "Τα αναχώματα μειώνουν σημαντικά την ενέργεια των κυμάτων."
    },
    {
        "q": "5. Πώς βοηθά η βλάστηση στην πρόληψη της διάβρωσης;",
        "options": [
            "Προσελκύει τουρίστες",
            "Αυξάνει τη διάβρωση",
            "Σταθεροποιεί το έδαφος",
            "Κάνει σκιά στην παραλία"
        ],
        "answer": "Σταθεροποιεί το έδαφος",
        "explanation": "Οι ρίζες συγκρατούν το έδαφος και μειώνουν την απώλεια υλικών."
    },
    {
        "q": "6. Τι συμβαίνει όταν αυξάνεται η συχνότητα των κυμάτων;",
        "options": [
            "Μειώνεται η διάβρωση",
            "Η παραλία μεγαλώνει",
            "Αυξάνεται η διάβρωση",
            "Δεν αλλάζει τίποτα"
        ],
        "answer": "Αυξάνεται η διάβρωση",
        "explanation": "Περισσότερα κύματα σημαίνει περισσότερη διάβρωση ανά έτος."
    },
    {
        "q": "7. Ποιο από τα παρακάτω είναι ΠΑΡΑΔΕΙΓΜΑ θετικής περιβαλλοντικής δράσης;",
        "options": [
            "Απόρριψη απορριμμάτων στην ακτή",
            "Αποψίλωση",
            "Περιορισμός πρόσβασης σε ευαίσθητες ζώνες",
            "Δόμηση χωρίς μελέτη"
        ],
        "answer": "Περιορισμός πρόσβασης σε ευαίσθητες ζώνες",
        "explanation": "Ο έλεγχος πρόσβασης προστατεύει τις φυσικές περιοχές από φθορά."
    },
    {
        "q": "8. Τι ρόλο παίζει η τεχνητή παραλία στη διάβρωση;",
        "options": [
            "Αυξάνει την ταχύτητα διάβρωσης",
            "Δεν έχει καμία επίδραση",
            "Μειώνει προσωρινά τη διάβρωση",
            "Καταστρέφει το οικοσύστημα"
        ],
        "answer": "Μειώνει προσωρινά τη διάβρωση",
        "explanation": "Η τεχνητή παραλία λειτουργεί ως προστατευτικό στρώμα αλλά φθείρεται με τον χρόνο."
    }
]

# ΠΡΟΒΟΛΗ ΕΡΩΤΗΣΕΩΝ
for i, q in enumerate(questions):
    st.subheader(q["q"])
    user_answer = st.radio("Επίλεξε μία απάντηση:", q["options"], key=f"q{i}")
    if user_answer:
        if user_answer == q["answer"]:
            st.success("✅ Σωστά!")
            score += 1
        else:
            st.error(f"❌ Λάθος. Η σωστή απάντηση είναι: {q['answer']}")
        with st.expander("📘 Εξήγηση"):
            st.info(q["explanation"])

# ΤΕΛΙΚΟ ΣΚΟΡ
if all(st.session_state.get(f"q{i}") for i in range(len(questions))):
    st.markdown("---")
    st.subheader(f"🎯 Το σκορ σου: **{score} / {total_questions}**")

    if score == total_questions:
        st.balloons()
        st.success("Φοβερή δουλειά! Είσαι expert στη διάβρωση παραλίας!")
    elif score >= 5:
        st.info("Πολύ καλά! Μπορείς να ξαναδοκιμάσεις για το 100%!")
    else:
        st.warning("Χρειάζεται λίγη επανάληψη. Προσπάθησε ξανά αφού δεις την προσομοίωση!")

st.markdown("---")
st.caption("Δημιουργήθηκε για εκπαιδευτική χρήση από τον/την εκπαιδευτικό σας 👩‍🏫")
